在这两个操作中，您使用了 `fgets` 和 `scanf` 两种不同的输入函数。虽然它们都可以用来读取字符串，但它们的工作方式有所不同，可能会导致读取结果不一样的情况。

1. **使用 `fgets` 函数**：

```c
fgets(str, sizeof(str), stdin);
printf("%d", strlen(str));
```

- `fgets` 函数会从标准输入中读取一行字符串，并将其存储在指定的缓冲区中（在本例中是数组 `str`）。
- `fgets` 函数会将换行符 `'\n'` 一同读取并存储在字符串中。
- 因此，`strlen(str)` 函数会计算整个读取的字符串的长度，包括换行符在内。

2. **使用 `scanf` 函数**：

```c
scanf("%s", str);
printf("%d", strlen(str));
```

- `scanf` 函数会读取一个字符串，并将其存储在指定的缓冲区中（在本例中是数组 `str`）。
- 但是，`scanf` 函数在遇到空格或换行符时会停止读取，因此它只会读取空格之前的部分，并在空格处停止。
- 所以，`strlen(str)` 函数只会计算从字符串开头到第一个空格之前的部分的长度，而不包括空格及其后面的内容。

因此，虽然您使用了相同的字符串缓冲区 `str`，但由于 `fgets` 和 `scanf` 的不同行为，导致了两次读取结果不一样。要保证结果一致，您应该使用相同的输入函数。
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTU5NjI2NjYwMV19
-->